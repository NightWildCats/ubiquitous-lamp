<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>   
        // 5.1 Object 类型
            // 1、引用类型的值（对象）是引用类型的实例。引用类型是一种数据结构、用于将数据和功能组织在一起。也常被称为类。
            
            // 2、创建Object实例的方式有两种。
            // (1)、第一种是使用new操作符后跟Object函数，如下
                    var person = new Object();
                    person.name = "Nicholas";
                    person.age = 29;
            // (2)、第二种是使用对象字面量表示法
                    var person = {
                        name: "Nicholas",
                        age: 29,
                        5: true
                    }
            //     在对象中，属性名为数值类型的将被自动转换为字符串
                
            //     也可以写成如下格式
                    var person = {};
                    person.name = "Nicholas";
                    person.age = 29;
                    person[5] = true; //right
                    // person.5 = true //wrong

            // 3、访问对象属性的方式有两种
            // (1)、点表示法（常用，简洁但适用范围有限制）
            // (2)、方括号表示法（不常用，复杂但适用范围广）
        
        // 5.2 Array 类型
            // 1、创建数组的基本方式有两种。
            // (1)、使用Array构造函数
                    var colors = new Array();   
                // 可以给构造函数传递数值以告知数组要保存的项目数量 
                    var colors = new Array(20);
                // 也可以直接向Array构造函数传递数组中应该包含的项
                    var colors = new Array("red","blue","green");
                // 在使用Array构造函数时也可以省略new操作符(但Object是无法省略的，故为了规整，一律加上new)
            
            // (2)、使用数组字面量表示法
                    var colors = ['red','blue','green'] //赋值
                    colors[1] = "black" //修改第二项的值
                    colors[3] = "brown" //由于原数组中的索引值最大为2，所以该数组将自动增加到该索引值加一的长度（索引是3，数组长度就是4）
                    alert(colors) //3;
                    colors.length = 2;
                    alert(colors[2]); //undefined
                    colors.length = 4;
                    alert(colors[3]); //undefined
                    colors[colors.length] = "black" //在数组中索引值为2添加一种颜色
                    colors[colors.length] = "brown" //在数组中索引值为2添加一种颜色
                // 通过设置length属性，可以从数组的末尾移除项或向数组中添加新项。即假设数组中只有三个长度，设置length为2则将移除最后一项(索引为2)，再访问colors[2]就会显示undefined。如果将length设为大于数组项数的值，则新增的每一项都会取得undefined
                    
        // 5.2.1 检测数组
            // 1、对于一个网页或者一个全局作用域而言，使用instanceof操作符就能得到满意的结果。但问题在于网页如果包含多个框架，就存在有多个全局执行环境，从而存在多个Array构造函数。如果从一个框架向另一个框架传入一个数组，那么传入的数组和在第二个框架中原生创建的数组分别具有各自不同的构造函数。
            
            // 2、ECMAScript新增了Array.isArray()方法。不会在意是哪个执行环境，而只判断是否是数组(但有兼容性问题)。
       
        // 5.2.2 转换方法
            // 1、toString/toLocaleString/valueof
            // (1)、toString方法会返回由数组中每个值的字符串形式拼接而成的一个以逗号分隔的字符串。
            // (2)、valueOf 返回的仍是数组
            var colors = ["red","blue","green"]
            alert(colors.toString()); //red,blue,green
            alert(colors.valueOf());  //red,blue,green
            alert(colors)  //red,blue,green 由于alert会在后台调用toString()方法，因此会得到与直接调用toString()方法相同的结果
            // (3)、toLocaleString()经常和toString()返回相同的值，但它调用的是每一项的toLocale-String()方法
            var person1 = {
                toLocaleString: function(){
                    return "Nikolaos";
                },
                toString: function(){
                    return "Nicholas"
                },
            };
            var person2 = {
                toLocaleString: function(){
                    return "Grigorios";
                },
                toString: function(){
                    return "Greg"
                }
            };
            var people = [person1,person2];
            console.log(people);
            console.log(people.toString()); //Nicholas,Greg
            console.log(people.toLocaleString()); //Nikolaos,Grigorios

            // 数组继承的toLocaleString()、toString()和valueOf()方法，在默认情况下都会以逗号分隔的字符串的形式返回数组项。而如果使用join()方法，则可以使用不同的分隔符来构建这个字符串。join()方法只接收一个参数，即用作分隔符的字符串，然后返回包含所有数组项的字符串
            var colors = ["red","green","blue"];
            alert(colors.join(',')) //red,green,blue
            alert(colors.join('||')) //red||green||blue
            // 如果数组中的某一项的值是null或者undefined，那么该值在join()\toLocaleString()\toString()\valueOf()方法返回的结果中以空字符串表示。

            // 5.2.3 栈方法
            // 1、push()方法可以接收任意数量的参数，把它们逐个添加到数组末尾，并返回修改后数组的长度。而pop()方法则从数组末尾移除最后一项，减少数组的length值，然后返回移除的项
            var colors = new Array();  //创建数组
            var count = colors.push('red','green'); //推入两项
            alert(count) //2

            count = colors.push('black');  //推入另一项
            alert(count) //3

            var item = colors.pop();
            alert(item)  //"black" 取得最后一项
            alert(colors.length) //2 

            // 5.2.4 队列方法
            // 1、shift()方法能够移除数组中的第一个项并返回该项，同时将数组长度减1。
            // 2、unshift()方法能在数组前端添加任意个项并返回新数组的长度。

            // 5.2.5 重排序方法
            // 1、reverse()方法会反转数组项的顺序。
            // 2、sort()方法会按升序排列数组项。原理是会调用每个数组项的toString()转型方法，然后比较得到的字符串，即使数组中的每一项都是数值，也是比较字符串。所以经常与一个比较函数共同使用。
            function compare(value1, value2){
                if(value1 < value2){
                    return -1;
                }else if(value1 > value2){
                    return 1;
                }else{
                    return 0;
                }
            }
            var values = [0,1,5,10,15];
            values.sort(compare);
            alert(values) //0,1,5,10,15 
            // 这个比较函数可以适用于大多数数据类型，只要将其作为参数传递给sort()方法即可。
            
            // 如果想要产生降序的排序结果，只要交换比较函数返回的值即可。
            function compare(value1, value2){
                if(value1 < value2){
                    return 1;
                }else if(value1 > value2){
                    return -1;
                }else{
                    return 0;
                }
            }
            var values = [0,1,5,10,15];
            values.sort(compare);
            alert(values) //15，10，5，1，0

            // 对于数值类型或者其valueof()方法会返回数值类型的对象类型，可以使用一个更简单的比较函数。
            // function compare(){
            //     return value2 - value1
            // }

        // 5.2.6 操作方法
        // 1、concat() 方法可以基于当前数组中的所有项创建一个新数组。
        var colors = ["red","green","blue"];
        var colors2 = colors.concat("yellow",["black","brown"]);
        console.log(colors);   //red,green,blue
        console.log(colors2);  //red,green,blue,yellow,black,brown
        // 2、slice()方法可以基于当前数组中的一个或多个项创建一个新数组。slice()方法可以接受一个或者两个参数，即要返回项的起始和结束位置。在只有一个参数的情况下，slice()方法返回从该参数指定位置开始到当前数组末尾的所有。如果有两个参数，该方法返回起始和结束位置之间的项-但不包括结束位置的项。
                // 如果slice()方法的参数中有一个负数，则用数组长度加上该数来确定相应的位置
        // 3、splice()方法有以下三个作用
                // 1、删除，可以删除任意数量的项，只需指定2个参数，要删除的第一项的位置和要删除的项数。如splice(0,2)会删除数组中的前两项。
                // 2、插入，可以向指定位置插入任意数量的项，提供三个或以上的参数:起始位置、0（要删除的项数）和要插入的项（个数不限，以逗号隔开）。
                // 3、替换，可以向指定位置插入任意数量的项，且同时删除任意数量的项。提供三个或以上的参数：起始位置、要删除的项数、和要插入的任意数量的项。插入的项数不必与删除的项数相等。
        
        //5.2.7 位置方法
        // 1、indexOf()及lastIndex()可以获取所需字符在数组中的索引值，共可以传递两个参数。第一个参数用于给定所需查找项，第二个参数用于给定起点位置。不同的是indexOf()是从前往后找，而lastIndexOf()是由后往前找。当找到第一个时，则直接
            var arr = [1,2,3,4,5,1,2,3];
            console.log(arr.indexOf(3,4)) //7 即从第四个开始往后找第一个3所对应的索引值     
            console.log(arr.lastIndexOf(3,4)) //2  即从倒数第四个开始往前找第一个3所对应的索引值


        // 5.2.8 迭代方法
        1、
    </script>
</body>
</html>